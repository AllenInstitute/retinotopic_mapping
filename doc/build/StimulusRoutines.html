

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>retinotopic_mapping.StimulusRoutines &mdash; retinotopic_mapping 1.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="author" title="About these documents"
              href="about.html"/>
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="retinotopic_mapping 1.0.0 documentation" href="index.html"/>
        <link rel="up" title="API Documentation" href="api.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> retinotopic_mapping
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="api.html">API Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="MonitorSetup.html">retinotopic_mapping.MonitorSetup</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">retinotopic_mapping.StimulusRoutines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#stim">Stim</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#uniformcontrast">UniformContrast</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#flashingcircle">FlashingCircle</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#sparsenoise">SparseNoise</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#locallysparsenoise">LocallySparseNoise</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#driftinggratingcircle">DriftingGratingCircle</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#staticgratingcircle">StaticGratingCircle</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#staticimages">StaticImages</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#stimulusseparator">StimulusSeparator</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#combinedstimuli">CombinedStimuli</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ksstim">KSstim</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#ksstimalldir">KSstimAllDir</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="DisplayStimulus.html">retinotopic_mapping.DisplayStimulus</a></li>
<li class="toctree-l2"><a class="reference internal" href="DisplayLogAnalysis.html">retinotopic_mapping.DisplayLogAnalysis</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html#indices-and-tables">Indices and tables</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">retinotopic_mapping</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="api.html">API Documentation</a> &raquo;</li>
        
      <li>retinotopic_mapping.StimulusRoutines</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/StimulusRoutines.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="retinotopic-mapping-stimulusroutines">
<h1>retinotopic_mapping.StimulusRoutines<a class="headerlink" href="#retinotopic-mapping-stimulusroutines" title="Permalink to this headline">¶</a></h1>
<p>This module define a base class <code class="xref py py-class docutils literal notranslate"><span class="pre">Stim</span></code> for visual stimulation.
Each subclass of <code class="xref py py-class docutils literal notranslate"><span class="pre">Stim</span></code> defines a particular type of visual
stimulus, i.e. <code class="xref py py-class docutils literal notranslate"><span class="pre">UniformContrast</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">SparseNoise</span></code>. When
initiated, these subclasses take various parameter inputs to generate
stimulus arrays and metadata dictionary which can be passed to the
<code class="xref py py-class docutils literal notranslate"><span class="pre">DisplayStimulus.DisplaySequence</span></code> for displaying. Each subclass
will have a method called <cite>generate_movie()</cite> or
<cite>generate_movie_by_index()</cite> or both. Only when these methods are
called, will heavy lifting calculation take place.</p>
<div class="section" id="stim">
<h2>Stim<a class="headerlink" href="#stim" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="retinotopic_mapping.StimulusRoutines.Stim">
<em class="property">class </em><code class="descclassname">retinotopic_mapping.StimulusRoutines.</code><code class="descname">Stim</code><span class="sig-paren">(</span><em>monitor</em>, <em>indicator</em>, <em>background=0.0</em>, <em>coordinate='degree'</em>, <em>pregap_dur=2.0</em>, <em>postgap_dur=3.0</em><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.Stim" title="Permalink to this definition">¶</a></dt>
<dd><p>generic class for visual stimulation. parent class for individual
stimulus routines.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>monitor</strong> : monitor object</p>
<blockquote>
<div><p>the monitor used to display stimulus in the experiment</p>
</div></blockquote>
<p><strong>indicator</strong> : indicator object</p>
<blockquote>
<div><p>the indicator used during stimulus</p>
</div></blockquote>
<p><strong>background</strong> : float, optional</p>
<blockquote>
<div><p>background color of the monitor screen when stimulus is not being
presented, takes values in [-1,1] and defaults to <cite>0.</cite> (grey)</p>
</div></blockquote>
<p><strong>coordinate</strong> : str {‘degree’, ‘linear’}, optional</p>
<blockquote>
<div><p>determines the representation of pixel coordinates on monitor,
defaults to ‘degree’</p>
</div></blockquote>
<p><strong>pregap_dur</strong> : float, optional</p>
<blockquote>
<div><p>duration of gap period before stimulus, measured in seconds, defaults
to <cite>2.</cite></p>
</div></blockquote>
<p><strong>postgap_dur</strong> : float, optional</p>
<blockquote class="last">
<div><p>duration of gap period after stimulus, measured in seconds, defaults
to <cite>3.</cite></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">postgap_frame_num</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">pregap_frame_num</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_frames</span></code>()</td>
<td>place holder of function “generate_frames” for each specific stimulus</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie</span></code>()</td>
<td>place holder of function ‘generate_movie’ for each specific stimulus</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie_by_index</span></code>()</td>
<td>place holder of function generate_movie_by_index() for each specific stimulus</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_background</span></code>(background)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_coordinate</span></code>(coordinate)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_indicator</span></code>(indicator)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_monitor</span></code>(monitor)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_postgap_dur</span></code>(postgap_dur)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_pregap_dur</span></code>(pregap_dur)</td>
<td></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="uniformcontrast">
<h2>UniformContrast<a class="headerlink" href="#uniformcontrast" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="retinotopic_mapping.StimulusRoutines.UniformContrast">
<em class="property">class </em><code class="descclassname">retinotopic_mapping.StimulusRoutines.</code><code class="descname">UniformContrast</code><span class="sig-paren">(</span><em>monitor</em>, <em>indicator</em>, <em>duration</em>, <em>color=0.0</em>, <em>pregap_dur=2.0</em>, <em>postgap_dur=3.0</em>, <em>background=0.0</em>, <em>coordinate='degree'</em><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.UniformContrast" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate full field uniform luminance for recording spontaneous activity.
Inherits from Stim.</p>
<p>The full field uniform luminance stimulus presents a fixed background color
which is normally taken to be grey.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>monitor</strong> : monitor object</p>
<blockquote>
<div><p>contains display monitor information</p>
</div></blockquote>
<p><strong>indicator</strong> : indicator object</p>
<blockquote>
<div><p>contains indicator information</p>
</div></blockquote>
<p><strong>coordinate</strong> : str from {‘degree’,’linear’}, optional</p>
<blockquote>
<div><p>specifies coordinates, defaults to ‘degree’</p>
</div></blockquote>
<p><strong>background</strong> : float, optional</p>
<blockquote>
<div><p>color of background. Takes values in [-1,1] where -1 is black and 1
is white</p>
</div></blockquote>
<p><strong>pregap_dur</strong> : float, optional</p>
<blockquote>
<div><p>amount of time (in seconds) before the stimulus is presented, defaults
to <cite>2.</cite></p>
</div></blockquote>
<p><strong>postgap_dur</strong> : float, optional</p>
<blockquote>
<div><p>amount of time (in seconds) after the stimulus is presented, defaults
to <cite>3.</cite></p>
</div></blockquote>
<p><strong>color</strong> : float, optional</p>
<blockquote class="last">
<div><p>the choice of color to display in the stimulus, defaults to <cite>0.</cite> which
is grey</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">postgap_frame_num</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">pregap_frame_num</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.UniformContrast.generate_frames" title="retinotopic_mapping.StimulusRoutines.UniformContrast.generate_frames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_frames</span></code></a>()</td>
<td>generate a tuple of parameters with information for each frame.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.UniformContrast.generate_movie" title="retinotopic_mapping.StimulusRoutines.UniformContrast.generate_movie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie</span></code></a>()</td>
<td>generate movie for uniform contrast display frame by frame.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.UniformContrast.generate_movie_by_index" title="retinotopic_mapping.StimulusRoutines.UniformContrast.generate_movie_by_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie_by_index</span></code></a>()</td>
<td>compute the stimulus movie to be displayed by index.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_background</span></code>(background)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_coordinate</span></code>(coordinate)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_indicator</span></code>(indicator)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_monitor</span></code>(monitor)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_postgap_dur</span></code>(postgap_dur)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_pregap_dur</span></code>(pregap_dur)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.UniformContrast.generate_frames">
<code class="descname">generate_frames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.UniformContrast.generate_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>generate a tuple of parameters with information for each frame.</p>
<dl class="docutils">
<dt>Information contained in each frame:</dt>
<dd><dl class="first last docutils">
<dt>first element -</dt>
<dd>during display frames, value takes on 1 and value
is 0 otherwise</dd>
<dt>second element - color of indicator</dt>
<dd>during display value is equal to 1 and during gaps value is
equal to -1</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.UniformContrast.generate_movie">
<code class="descname">generate_movie</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.UniformContrast.generate_movie" title="Permalink to this definition">¶</a></dt>
<dd><p>generate movie for uniform contrast display frame by frame.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>full_seq</strong> : nd array, uint8</p>
<blockquote>
<div><p>3-d array of the stimulus to be displayed.</p>
</div></blockquote>
<p><strong>full_dict</strong> : dict</p>
<blockquote class="last">
<div><p>dictionary containing the information of the stimulus.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.UniformContrast.generate_movie_by_index">
<code class="descname">generate_movie_by_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.UniformContrast.generate_movie_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>compute the stimulus movie to be displayed by index.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="flashingcircle">
<h2>FlashingCircle<a class="headerlink" href="#flashingcircle" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="retinotopic_mapping.StimulusRoutines.FlashingCircle">
<em class="property">class </em><code class="descclassname">retinotopic_mapping.StimulusRoutines.</code><code class="descname">FlashingCircle</code><span class="sig-paren">(</span><em>monitor</em>, <em>indicator</em>, <em>coordinate='degree'</em>, <em>center=(0.0</em>, <em>60.0)</em>, <em>radius=10.0</em>, <em>is_smooth_edge=False</em>, <em>smooth_width_ratio=0.2</em>, <em>smooth_func=&lt;function blur_cos&gt;</em>, <em>color=-1.0</em>, <em>flash_frame_num=3</em>, <em>pregap_dur=2.0</em>, <em>postgap_dur=3.0</em>, <em>background=0.0</em>, <em>midgap_dur=1.0</em>, <em>iteration=1</em><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.FlashingCircle" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate flashing circle stimulus.</p>
<p>Stimulus routine presents a circle centered at the position <cite>center</cite>
with given <cite>radius</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>monitor</strong> : monitor object</p>
<blockquote>
<div><p>contains display monitor information</p>
</div></blockquote>
<p><strong>indicator</strong> : indicator object</p>
<blockquote>
<div><p>contains indicator information</p>
</div></blockquote>
<p><strong>coordinate</strong> : str from {‘degree’,’linear’}, optional</p>
<blockquote>
<div><p>specifies coordinates, defaults to ‘degree’</p>
</div></blockquote>
<p><strong>background</strong> : float, optional</p>
<blockquote>
<div><p>color of background. Takes values in [-1,1] where -1 is black and 1
is white</p>
</div></blockquote>
<p><strong>pregap_dur</strong> : float, optional</p>
<blockquote>
<div><p>amount of time (in seconds) before the stimulus is presented, defaults
to <cite>2.</cite></p>
</div></blockquote>
<p><strong>postgap_dur</strong> : float, optional</p>
<blockquote>
<div><p>amount of time (in seconds) after the stimulus is presented, defaults
to <cite>3.</cite></p>
</div></blockquote>
<p><strong>center</strong> : 2-tuple, optional</p>
<blockquote>
<div><p>center coordinate (altitude, azimuth) of the circle in degrees, defaults to (0.,60.).</p>
</div></blockquote>
<p><strong>radius</strong> : float, optional</p>
<blockquote>
<div><p>radius of the circle, defaults to <cite>10.</cite></p>
</div></blockquote>
<p><strong>is_smooth_edge</strong> : bool</p>
<blockquote>
<div><p>True, smooth circle edge with smooth_width_ratio and smooth_func
False, do not smooth edge</p>
</div></blockquote>
<p><strong>smooth_width_ratio</strong> : float, should be smaller than 1.</p>
<blockquote>
<div><p>the ratio between smooth band width and radius, circle edge is the middle
of smooth band</p>
</div></blockquote>
<p><strong>smooth_func</strong> : function object</p>
<blockquote>
<div><dl class="docutils">
<dt>this function take to inputs</dt>
<dd><p class="first last">first, ndarray storing the distance from each pixel to smooth band center
second, smooth band width</p>
</dd>
</dl>
<p>returns smoothed mask with same shape as input ndarray</p>
</div></blockquote>
<p><strong>color</strong> : float, optional</p>
<blockquote>
<div><p>color of the circle, takes values in [-1,1], defaults to <cite>-1.</cite></p>
</div></blockquote>
<p><strong>iteration</strong> : int, optional</p>
<blockquote>
<div><p>total number of flashes, defaults to <cite>1</cite>.</p>
</div></blockquote>
<p><strong>flash_frame</strong> : int, optional</p>
<blockquote class="last">
<div><p>number of frames that circle is displayed during each presentation
of the stimulus, defaults to <cite>3</cite>.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">midgap_frame_num</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">postgap_frame_num</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">pregap_frame_num</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.FlashingCircle.generate_frames" title="retinotopic_mapping.StimulusRoutines.FlashingCircle.generate_frames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_frames</span></code></a>()</td>
<td>function to generate all the frames needed for the stimulation.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.FlashingCircle.generate_movie" title="retinotopic_mapping.StimulusRoutines.FlashingCircle.generate_movie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie</span></code></a>()</td>
<td>generate movie frame by frame.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.FlashingCircle.generate_movie_by_index" title="retinotopic_mapping.StimulusRoutines.FlashingCircle.generate_movie_by_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie_by_index</span></code></a>()</td>
<td>compute the stimulus movie to be displayed by index.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_background</span></code>(background)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_center</span></code>(center)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_color</span></code>(color)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_coordinate</span></code>(coordinate)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_flash_frame_num</span></code>(flash_frame_num)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_indicator</span></code>(indicator)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_monitor</span></code>(monitor)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_postgap_dur</span></code>(postgap_dur)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_pregap_dur</span></code>(pregap_dur)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_radius</span></code>(radius)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.FlashingCircle.generate_frames">
<code class="descname">generate_frames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.FlashingCircle.generate_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>function to generate all the frames needed for the stimulation.</p>
<dl class="docutils">
<dt>Information contained in each frame:</dt>
<dd><dl class="first last docutils">
<dt>first element :</dt>
<dd>during a gap, the value is equal to 0 and during display the
value is equal to 1</dd>
<dt>second element :</dt>
<dd>corresponds to the color of indicator
if indicator.is_sync is True, during stimulus the value is
equal to 1., whereas during a gap the value isequal to -1.;
if indicator.is_sync is False, indicator color will alternate
between 1. and -1. at the frequency as indicator.freq</dd>
</dl>
</dd>
</dl>
<dl class="docutils">
<dt>frames <span class="classifier-delimiter">:</span> <span class="classifier">list</span></dt>
<dd>list of information defining each frame.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.FlashingCircle.generate_movie">
<code class="descname">generate_movie</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.FlashingCircle.generate_movie" title="Permalink to this definition">¶</a></dt>
<dd><p>generate movie frame by frame.</p>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.FlashingCircle.generate_movie_by_index">
<code class="descname">generate_movie_by_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.FlashingCircle.generate_movie_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>compute the stimulus movie to be displayed by index.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="sparsenoise">
<h2>SparseNoise<a class="headerlink" href="#sparsenoise" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="retinotopic_mapping.StimulusRoutines.SparseNoise">
<em class="property">class </em><code class="descclassname">retinotopic_mapping.StimulusRoutines.</code><code class="descname">SparseNoise</code><span class="sig-paren">(</span><em>monitor</em>, <em>indicator</em>, <em>background=0.0</em>, <em>coordinate='degree'</em>, <em>grid_space=(10.0</em>, <em>10.0)</em>, <em>probe_size=(10.0</em>, <em>10.0)</em>, <em>probe_orientation=0.0</em>, <em>probe_frame_num=6</em>, <em>subregion=None</em>, <em>sign='ON-OFF'</em>, <em>iteration=1</em>, <em>pregap_dur=2.0</em>, <em>postgap_dur=3.0</em>, <em>is_include_edge=True</em><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.SparseNoise" title="Permalink to this definition">¶</a></dt>
<dd><p>generate sparse noise stimulus integrates flashing indicator for photodiode</p>
<p>This stimulus routine presents quasi-random noise in a specified region of
the monitor. The <cite>background</cite> color can be customized but defaults to a
grey value. Can specify the <cite>subregion</cite> of the monitor where the pixels
will flash on and off (black and white respectively)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>monitor</strong> : monitor object</p>
<blockquote>
<div><p>contains display monitor information</p>
</div></blockquote>
<p><strong>indicator</strong> : indicator object</p>
<blockquote>
<div><p>contains indicator information</p>
</div></blockquote>
<p><strong>coordinate</strong> : str from {‘degree’,’linear’}, optional</p>
<blockquote>
<div><p>specifies coordinates, defaults to ‘degree’</p>
</div></blockquote>
<p><strong>background</strong> : float, optional</p>
<blockquote>
<div><p>color of background. Takes values in [-1,1] where -1 is black and 1
is white</p>
</div></blockquote>
<p><strong>pregap_dur</strong> : float, optional</p>
<blockquote>
<div><p>amount of time (in seconds) before the stimulus is presented, defaults
to <cite>2.</cite></p>
</div></blockquote>
<p><strong>postgap_dur</strong> : float, optional</p>
<blockquote>
<div><p>amount of time (in seconds) after the stimulus is presented, defaults
to <cite>3.</cite></p>
</div></blockquote>
<p><strong>grid_space</strong> : 2-tuple of floats, optional</p>
<blockquote>
<div><p>first coordinate is altitude, second coordinate is azimuth</p>
</div></blockquote>
<p><strong>probe_size</strong> : 2-tuple of floats, optional</p>
<blockquote>
<div><p>size of flicker probes. First coordinate defines the width, and
second coordinate defines the height</p>
</div></blockquote>
<p><strong>probe_orientation</strong> : float, optional</p>
<blockquote>
<div><p>orientation of flicker probes</p>
</div></blockquote>
<p><strong>probe_frame_num</strong> : int, optional</p>
<blockquote>
<div><p>number of frames for each square presentation</p>
</div></blockquote>
<p><strong>subregion</strong> : list or tuple</p>
<blockquote>
<div><p>the region on the monitor that will display the sparse noise,
list or tuple, [min_alt, max_alt, min_azi, max_azi]</p>
</div></blockquote>
<p><strong>sign</strong> : {‘ON-OFF’, ‘ON’, ‘OFF’}, optional</p>
<blockquote>
<div><p>determines which pixels appear in the <cite>subregion</cite>, defaults to
<cite>‘ON-Off’</cite> so that both on and off pixels appear. If <cite>‘ON</cite> selected
only on pixels (white) are displayed in the noise <cite>subregion while if
`’OFF’</cite> is selected only off (black) pixels are displayed in the noise</p>
</div></blockquote>
<p><strong>iteration</strong> : int, optional</p>
<blockquote>
<div><p>number of times to present stimulus, defaults to <cite>1</cite></p>
</div></blockquote>
<p><strong>is_include_edge</strong> : bool, default True,</p>
<blockquote class="last">
<div><p>if True, the displayed probes will cover the edge case and ensure that
the entire subregion is covered.
If False, the displayed probes will exclude edge case and ensure that all
the centers of displayed probes are within the subregion.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">postgap_frame_num</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">pregap_frame_num</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.SparseNoise.generate_frames" title="retinotopic_mapping.StimulusRoutines.SparseNoise.generate_frames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_frames</span></code></a>()</td>
<td>function to generate all the frames needed for SparseNoise stimulus</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.SparseNoise.generate_movie" title="retinotopic_mapping.StimulusRoutines.SparseNoise.generate_movie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie</span></code></a>()</td>
<td>generate movie for display frame by frame</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.SparseNoise.generate_movie_by_index" title="retinotopic_mapping.StimulusRoutines.SparseNoise.generate_movie_by_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie_by_index</span></code></a>()</td>
<td>compute the stimulus movie to be displayed by index.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_background</span></code>(background)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_coordinate</span></code>(coordinate)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_indicator</span></code>(indicator)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_monitor</span></code>(monitor)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_postgap_dur</span></code>(postgap_dur)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_pregap_dur</span></code>(pregap_dur)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.SparseNoise.generate_frames">
<code class="descname">generate_frames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.SparseNoise.generate_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>function to generate all the frames needed for SparseNoise stimulus</p>
<p>returns a list of information of all frames as a list of tuples</p>
<dl class="docutils">
<dt>Information contained in each frame:</dt>
<dd><dl class="first docutils">
<dt>first element - int</dt>
<dd>when stimulus is displayed value is equal to 1, otherwise
equal to 0,</dd>
<dt>second element - tuple,</dt>
<dd>retinotopic location of the center of current square,[alt, azi]</dd>
<dt>third element -</dt>
<dd>polarity of current square, 1 -&gt; bright, -1-&gt; dark</dd>
<dt>forth element - color of indicator</dt>
<dd><dl class="first last docutils">
<dt>if synchronized <span class="classifier-delimiter">:</span> <span class="classifier">value equal to 0 when stimulus is not</span></dt>
<dd>begin displayed, and 1 for onset frame of stimulus for
each square, -1 for the rest.</dd>
<dt>if non-synchronized: values alternate between -1 and 1</dt>
<dd>at defined frequency</dd>
</dl>
</dd>
</dl>
<p class="last">for gap frames the second and third elements should be ‘None’</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.SparseNoise.generate_movie">
<code class="descname">generate_movie</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.SparseNoise.generate_movie" title="Permalink to this definition">¶</a></dt>
<dd><p>generate movie for display frame by frame</p>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.SparseNoise.generate_movie_by_index">
<code class="descname">generate_movie_by_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.SparseNoise.generate_movie_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>compute the stimulus movie to be displayed by index.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="locallysparsenoise">
<h2>LocallySparseNoise<a class="headerlink" href="#locallysparsenoise" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="retinotopic_mapping.StimulusRoutines.LocallySparseNoise">
<em class="property">class </em><code class="descclassname">retinotopic_mapping.StimulusRoutines.</code><code class="descname">LocallySparseNoise</code><span class="sig-paren">(</span><em>monitor</em>, <em>indicator</em>, <em>min_distance=20.0</em>, <em>background=0.0</em>, <em>coordinate='degree'</em>, <em>grid_space=(10.0</em>, <em>10.0)</em>, <em>probe_size=(10.0</em>, <em>10.0)</em>, <em>probe_orientation=0.0</em>, <em>probe_frame_num=6</em>, <em>subregion=None</em>, <em>sign='ON-OFF'</em>, <em>iteration=1</em>, <em>repeat=1</em>, <em>pregap_dur=2.0</em>, <em>postgap_dur=3.0</em>, <em>is_include_edge=True</em><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.LocallySparseNoise" title="Permalink to this definition">¶</a></dt>
<dd><p>generate locally sparse noise stimulus integrates flashing indicator for
photodiode</p>
<p>This stimulus routine presents quasi-random noise in a specified region of
the monitor. The <cite>background</cite> color can be customized but defaults to a
grey value. Can specify the <cite>subregion</cite> of the monitor where the pixels
will flash on and off (black and white respectively)</p>
<p>Different from SparseNoise stimulus which presents only one probe at a time,
the LocallySparseNoise presents multiple probes simultaneously to speed up
the sampling frequency. The sparsity of probes is defined by minimum distance
in visual degree: in any given frame, the centers of any pair of two probes
will have distance larger than minimum distance in visual degrees. The
method generate locally sparse noise here insures, for each iteration, all
the locations in the subregion will be sampled once and only once.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>monitor</strong> : monitor object</p>
<blockquote>
<div><p>contains display monitor information</p>
</div></blockquote>
<p><strong>indicator</strong> : indicator object</p>
<blockquote>
<div><p>contains indicator information</p>
</div></blockquote>
<p><strong>coordinate</strong> : str from {‘degree’,’linear’}, optional</p>
<blockquote>
<div><p>specifies coordinates, defaults to ‘degree’</p>
</div></blockquote>
<p><strong>background</strong> : float, optional</p>
<blockquote>
<div><p>color of background. Takes values in [-1,1] where -1 is black and 1
is white</p>
</div></blockquote>
<p><strong>pregap_dur</strong> : float, optional</p>
<blockquote>
<div><p>amount of time (in seconds) before the stimulus is presented, defaults
to <cite>2.</cite></p>
</div></blockquote>
<p><strong>postgap_dur</strong> : float, optional</p>
<blockquote>
<div><p>amount of time (in seconds) after the stimulus is presented, defaults
to <cite>3.</cite></p>
</div></blockquote>
<p><strong>min_distance</strong> : float, default 20.</p>
<blockquote>
<div><p>the minimum distance in visual degree for any pair of probe centers
in a given frame</p>
</div></blockquote>
<p><strong>grid_space</strong> : 2-tuple of floats, optional</p>
<blockquote>
<div><p>first coordinate is altitude, second coordinate is azimuth</p>
</div></blockquote>
<p><strong>probe_size</strong> : 2-tuple of floats, optional</p>
<blockquote>
<div><p>size of flicker probes. First coordinate defines the width, and
second coordinate defines the height</p>
</div></blockquote>
<p><strong>probe_orientation</strong> : float, optional</p>
<blockquote>
<div><p>orientation of flicker probes</p>
</div></blockquote>
<p><strong>probe_frame_num</strong> : int, optional</p>
<blockquote>
<div><p>number of frames for each square presentation</p>
</div></blockquote>
<p><strong>subregion</strong> : list or tuple</p>
<blockquote>
<div><p>the region on the monitor that will display the sparse noise,
list or tuple, [min_alt, max_alt, min_azi, max_azi]</p>
</div></blockquote>
<p><strong>sign</strong> : {‘ON-OFF’, ‘ON’, ‘OFF’}, optional</p>
<blockquote>
<div><p>determines which pixels appear in the <cite>subregion</cite>, defaults to
<cite>‘ON-Off’</cite> so that both on and off pixels appear. If <cite>‘ON</cite> selected
only on pixels (white) are displayed in the noise <cite>subregion while if
`’OFF’</cite> is selected only off (black) pixels are displayed in the noise</p>
</div></blockquote>
<p><strong>iteration</strong> : int, optional</p>
<blockquote>
<div><p>number of times to present stimulus with random order, the total number
a paticular probe will be displayded will be iteration * repeat,
defaults to <cite>1</cite></p>
</div></blockquote>
<p><strong>repeat</strong> : int, optional</p>
<blockquote>
<div><p>number of repeat of whole sequence, the total number a paticular probe
will be displayded will be iteration * repeat, defaults to <cite>1</cite></p>
</div></blockquote>
<p><strong>is_include_edge</strong> : bool, default True,</p>
<blockquote class="last">
<div><p>if True, the displayed probes will cover the edge case and ensure that
the entire subregion is covered.
If False, the displayed probes will exclude edge case and ensure that all
the centers of displayed probes are within the subregion.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">postgap_frame_num</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">pregap_frame_num</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.LocallySparseNoise.generate_frames" title="retinotopic_mapping.StimulusRoutines.LocallySparseNoise.generate_frames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_frames</span></code></a>()</td>
<td>place holder of function “generate_frames” for each specific stimulus</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.LocallySparseNoise.generate_movie" title="retinotopic_mapping.StimulusRoutines.LocallySparseNoise.generate_movie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie</span></code></a>()</td>
<td>place holder of function ‘generate_movie’ for each specific stimulus</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.LocallySparseNoise.generate_movie_by_index" title="retinotopic_mapping.StimulusRoutines.LocallySparseNoise.generate_movie_by_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie_by_index</span></code></a>()</td>
<td>place holder of function generate_movie_by_index() for each specific stimulus</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_background</span></code>(background)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_coordinate</span></code>(coordinate)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_indicator</span></code>(indicator)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_monitor</span></code>(monitor)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_postgap_dur</span></code>(postgap_dur)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_pregap_dur</span></code>(pregap_dur)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.LocallySparseNoise.generate_frames">
<code class="descname">generate_frames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.LocallySparseNoise.generate_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>place holder of function “generate_frames” for each specific stimulus</p>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.LocallySparseNoise.generate_movie">
<code class="descname">generate_movie</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.LocallySparseNoise.generate_movie" title="Permalink to this definition">¶</a></dt>
<dd><p>place holder of function ‘generate_movie’ for each specific stimulus</p>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.LocallySparseNoise.generate_movie_by_index">
<code class="descname">generate_movie_by_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.LocallySparseNoise.generate_movie_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>place holder of function generate_movie_by_index()
for each specific stimulus</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="driftinggratingcircle">
<h2>DriftingGratingCircle<a class="headerlink" href="#driftinggratingcircle" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="retinotopic_mapping.StimulusRoutines.DriftingGratingCircle">
<em class="property">class </em><code class="descclassname">retinotopic_mapping.StimulusRoutines.</code><code class="descname">DriftingGratingCircle</code><span class="sig-paren">(</span><em>monitor</em>, <em>indicator</em>, <em>background=0.0</em>, <em>coordinate='degree'</em>, <em>center=(0.0</em>, <em>60.0)</em>, <em>sf_list=(0.08</em>, <em>)</em>, <em>tf_list=(4.0</em>, <em>)</em>, <em>dire_list=(0.0</em>, <em>)</em>, <em>con_list=(0.5</em>, <em>)</em>, <em>radius_list=(10.0</em>, <em>)</em>, <em>block_dur=2.0</em>, <em>midgap_dur=0.5</em>, <em>iteration=1</em>, <em>pregap_dur=2.0</em>, <em>postgap_dur=3.0</em>, <em>is_smooth_edge=False</em>, <em>smooth_width_ratio=0.2</em>, <em>smooth_func=&lt;function blur_cos&gt;</em>, <em>is_blank_block=True</em><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.DriftingGratingCircle" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate drifting grating circle stimulus</p>
<p>Stimulus routine presents drifting grating stimulus inside
of a circle centered at <cite>center</cite>. The drifting gratings are determined by
spatial and temporal frequencies, directionality, contrast, and radius.
The routine can generate several different gratings within
one presentation by specifying multiple values of the parameters which
characterize the stimulus.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>monitor</strong> : monitor object</p>
<blockquote>
<div><p>contains display monitor information</p>
</div></blockquote>
<p><strong>indicator</strong> : indicator object</p>
<blockquote>
<div><p>contains indicator information</p>
</div></blockquote>
<p><strong>coordinate</strong> : str from {‘degree’,’linear’}, optional</p>
<blockquote>
<div><p>specifies coordinates, defaults to ‘degree’</p>
</div></blockquote>
<p><strong>background</strong> : float, optional</p>
<blockquote>
<div><p>color of background. Takes values in [-1,1] where -1 is black and 1
is white</p>
</div></blockquote>
<p><strong>pregap_dur</strong> : float, optional</p>
<blockquote>
<div><p>amount of time (in seconds) before the stimulus is presented, defaults
to <cite>2.</cite></p>
</div></blockquote>
<p><strong>postgap_dur</strong> : float, optional</p>
<blockquote>
<div><p>amount of time (in seconds) after the stimulus is presented, defaults
to <cite>3.</cite></p>
</div></blockquote>
<p><strong>center</strong> : 2-tuple of floats, optional</p>
<blockquote>
<div><p>coordintes for center of the stimulus (altitude, azimuth)</p>
</div></blockquote>
<p><strong>sf_list</strong> : n-tuple, optional</p>
<blockquote>
<div><p>list of spatial frequencies in cycles/unit, defaults to <cite>(0.08)</cite></p>
</div></blockquote>
<p><strong>tf_list</strong> : n-tuple, optional</p>
<blockquote>
<div><p>list of temportal frequencies in Hz, defaults to <cite>(4.)</cite></p>
</div></blockquote>
<p><strong>dire_list</strong> : n-tuple, optional</p>
<blockquote>
<div><p>list of directions in degrees, defaults to <cite>(0.)</cite></p>
</div></blockquote>
<p><strong>con_list</strong> : n-tuple, optional</p>
<blockquote>
<div><p>list of contrasts taking values in [0.,1.], defaults to <cite>(0.5)</cite></p>
</div></blockquote>
<p><strong>radius_list</strong> : n-tuple</p>
<blockquote>
<div><p>list of radii of circles, unit defined by <cite>self.coordinate</cite>, defaults
to <cite>(10.)</cite></p>
</div></blockquote>
<p><strong>block_dur</strong> : float, optional</p>
<blockquote>
<div><p>duration of each condition in seconds, defaults to <cite>2.</cite></p>
</div></blockquote>
<p><strong>midgap_dur</strong> : float, optional</p>
<blockquote>
<div><p>duration of gap between conditions, defaults to <cite>0.5</cite></p>
</div></blockquote>
<p><strong>iteration</strong> : int, optional</p>
<blockquote>
<div><p>number of times the stimulus is displayed, defaults to <cite>1</cite></p>
</div></blockquote>
<p><strong>is_smooth_edge</strong> : bool</p>
<blockquote>
<div><p>True, smooth circle edge with smooth_width_ratio and smooth_func
False, do not smooth edge</p>
</div></blockquote>
<p><strong>smooth_width_ratio</strong> : float, should be smaller than 1.</p>
<blockquote>
<div><p>the ratio between smooth band width and radius, circle edge is the middle
of smooth band</p>
</div></blockquote>
<p><strong>smooth_func</strong> : function object</p>
<blockquote>
<div><p>this function take two inputs: 1) ndarray storing the distance from each
pixel to smooth band center; 2) smooth band width.
returns smoothed mask with same shape as input ndarray</p>
</div></blockquote>
<p><strong>is_blank_block</strong> : bool</p>
<blockquote class="last">
<div><p>if True, one blank block (full screen background with the same duration of other blocks)
will be displayed for each iteration. The frames of this condition will be:
(1, 1, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0), the meaning of these numbers can be found in
self.frame_config</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">block_frame_num</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">midgap_frame_num</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">postgap_frame_num</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">pregap_frame_num</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.DriftingGratingCircle.generate_frames" title="retinotopic_mapping.StimulusRoutines.DriftingGratingCircle.generate_frames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_frames</span></code></a>()</td>
<td>function to generate all the frames needed for DriftingGratingCircle returns a list of information of all frames as a list of tuples</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.DriftingGratingCircle.generate_movie" title="retinotopic_mapping.StimulusRoutines.DriftingGratingCircle.generate_movie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie</span></code></a>()</td>
<td>Generate movie frame by frame</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.DriftingGratingCircle.generate_movie_by_index" title="retinotopic_mapping.StimulusRoutines.DriftingGratingCircle.generate_movie_by_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie_by_index</span></code></a>()</td>
<td>compute the stimulus movie to be displayed by index.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_background</span></code>(background)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_coordinate</span></code>(coordinate)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_indicator</span></code>(indicator)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_monitor</span></code>(monitor)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_postgap_dur</span></code>(postgap_dur)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_pregap_dur</span></code>(pregap_dur)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.DriftingGratingCircle.generate_frames">
<code class="descname">generate_frames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.DriftingGratingCircle.generate_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>function to generate all the frames needed for DriftingGratingCircle
returns a list of information of all frames as a list of tuples</p>
<dl class="docutils">
<dt>Information contained in each frame:</dt>
<dd><dl class="first docutils">
<dt>first element -</dt>
<dd>value equal to 1 during stimulus and 0 otherwise</dd>
<dt>second element -</dt>
<dd>on first frame in a cycle value takes on 1, and otherwise is
equal to 0.</dd>
<dt>third element -</dt>
<dd>spatial frequency</dd>
<dt>forth element -</dt>
<dd>temporal frequency</dd>
<dt>fifth element -</dt>
<dd>direction, [0, 2*pi)</dd>
<dt>sixth element -</dt>
<dd>contrast, [-1., 1.]</dd>
<dt>seventh element -</dt>
<dd>size, float (radius of the circle in visual degree)</dd>
<dt>eighth element -</dt>
<dd>phase, [0, 2*pi)</dd>
<dt>ninth element -</dt>
<dd>indicator color [-1, 1]. Value is equal to 1 on the first
frame of each cycle, -1 during gaps and otherwise 0.</dd>
</dl>
<p class="last">during gap frames the second through the eighth elements should
be ‘None’.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.DriftingGratingCircle.generate_movie">
<code class="descname">generate_movie</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.DriftingGratingCircle.generate_movie" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate movie frame by frame</p>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.DriftingGratingCircle.generate_movie_by_index">
<code class="descname">generate_movie_by_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.DriftingGratingCircle.generate_movie_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>compute the stimulus movie to be displayed by index.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="staticgratingcircle">
<h2>StaticGratingCircle<a class="headerlink" href="#staticgratingcircle" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="retinotopic_mapping.StimulusRoutines.StaticGratingCircle">
<em class="property">class </em><code class="descclassname">retinotopic_mapping.StimulusRoutines.</code><code class="descname">StaticGratingCircle</code><span class="sig-paren">(</span><em>monitor</em>, <em>indicator</em>, <em>background=0.0</em>, <em>coordinate='degree'</em>, <em>center=(0.0</em>, <em>60.0)</em>, <em>sf_list=(0.08</em>, <em>)</em>, <em>ori_list=(0.0</em>, <em>90.0)</em>, <em>con_list=(0.5</em>, <em>)</em>, <em>radius_list=(10.0</em>, <em>)</em>, <em>phase_list=(0.0</em>, <em>90.0</em>, <em>180.0</em>, <em>270.0)</em>, <em>display_dur=0.25</em>, <em>midgap_dur=0.0</em>, <em>iteration=1</em>, <em>pregap_dur=2.0</em>, <em>postgap_dur=3.0</em>, <em>is_smooth_edge=False</em>, <em>smooth_width_ratio=0.2</em>, <em>smooth_func=&lt;function blur_cos&gt;</em>, <em>is_blank_block=True</em><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.StaticGratingCircle" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate static grating circle stimulus</p>
<p>Stimulus routine presents flashing static grating stimulus inside
of a circle centered at <cite>center</cite>. The static gratings are determined by
spatial frequencies, orientation, contrast, radius and phase. The
routine can generate several different gratings within
one presentation by specifying multiple values of the parameters which
characterize the stimulus.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>monitor</strong> : monitor object</p>
<blockquote>
<div><p>contains display monitor information</p>
</div></blockquote>
<p><strong>indicator</strong> : indicator object</p>
<blockquote>
<div><p>contains indicator information</p>
</div></blockquote>
<p><strong>coordinate</strong> : str from {‘degree’,’linear’}, optional</p>
<blockquote>
<div><p>specifies coordinates, defaults to ‘degree’</p>
</div></blockquote>
<p><strong>background</strong> : float, optional</p>
<blockquote>
<div><p>color of background. Takes values in [-1,1] where -1 is black and 1
is white</p>
</div></blockquote>
<p><strong>pregap_dur</strong> : float, optional</p>
<blockquote>
<div><p>amount of time (in seconds) before the stimulus is presented, defaults
to <cite>2.</cite></p>
</div></blockquote>
<p><strong>postgap_dur</strong> : float, optional</p>
<blockquote>
<div><p>amount of time (in seconds) after the stimulus is presented, defaults
to <cite>3.</cite></p>
</div></blockquote>
<p><strong>center</strong> : 2-tuple of floats, optional</p>
<blockquote>
<div><p>coordintes for center of the stimulus (altitude, azimuth)</p>
</div></blockquote>
<p><strong>sf_list</strong> : n-tuple, optional</p>
<blockquote>
<div><p>list of spatial frequencies in cycles/unit, defaults to <cite>(0.08)</cite></p>
</div></blockquote>
<p><strong>ori_list</strong> : n-tuple, optional</p>
<blockquote>
<div><p>list of directions in degrees, defaults to <cite>(0., 90.)</cite></p>
</div></blockquote>
<p><strong>con_list</strong> : n-tuple, optional</p>
<blockquote>
<div><p>list of contrasts taking values in [0.,1.], defaults to <cite>(0.5)</cite></p>
</div></blockquote>
<p><strong>radius_list</strong> : n-tuple, optional</p>
<blockquote>
<div><p>list of radii of circles, unit defined by <cite>self.coordinate</cite>, defaults
to <cite>(10.)</cite></p>
</div></blockquote>
<p><strong>phase_list</strong> : n-tuple, optional</p>
<blockquote>
<div><p>list of phase of gratings in degrees, default (0., 90., 180., 270.)</p>
</div></blockquote>
<p><strong>display_dur</strong> : float, optional</p>
<blockquote>
<div><p>duration of each condition in seconds, defaults to <cite>0.25</cite></p>
</div></blockquote>
<p><strong>midgap_dur, float, optional</strong></p>
<blockquote>
<div><p>duration of gap between conditions, defaults to <cite>0.</cite></p>
</div></blockquote>
<p><strong>iteration, int, optional</strong></p>
<blockquote>
<div><p>number of times the stimulus is displayed, defaults to <cite>1</cite></p>
</div></blockquote>
<p><strong>is_smooth_edge</strong> : bool</p>
<blockquote>
<div><p>True, smooth circle edge with smooth_width_ratio and smooth_func
False, do not smooth edge</p>
</div></blockquote>
<p><strong>smooth_width_ratio</strong> : float, should be smaller than 1.</p>
<blockquote>
<div><p>the ratio between smooth band width and radius, circle edge is the middle
of smooth band</p>
</div></blockquote>
<p><strong>smooth_func</strong> : function object</p>
<blockquote>
<div><p>this function take two inputs: 1) ndarray storing the distance from each
pixel to smooth band center; 2) smooth band width.
returns smoothed mask with same shape as input ndarray</p>
</div></blockquote>
<p><strong>is_blank_block</strong> : bool, optional</p>
<blockquote class="last">
<div><p>if True, a full screen background will be displayed as an additional grating.
The frames of this condition will be: (1, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0 or 0.0),
the meaning of these numbers can be found in self.frame_config</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">display_frame_num</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">midgap_frame_num</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">postgap_frame_num</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">pregap_frame_num</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.StaticGratingCircle.generate_frames" title="retinotopic_mapping.StimulusRoutines.StaticGratingCircle.generate_frames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_frames</span></code></a>()</td>
<td>place holder of function “generate_frames” for each specific stimulus</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.StaticGratingCircle.generate_movie" title="retinotopic_mapping.StimulusRoutines.StaticGratingCircle.generate_movie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie</span></code></a>()</td>
<td>place holder of function ‘generate_movie’ for each specific stimulus</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.StaticGratingCircle.generate_movie_by_index" title="retinotopic_mapping.StimulusRoutines.StaticGratingCircle.generate_movie_by_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie_by_index</span></code></a>()</td>
<td>compute the stimulus movie to be displayed by index.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_background</span></code>(background)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_coordinate</span></code>(coordinate)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_indicator</span></code>(indicator)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_monitor</span></code>(monitor)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_postgap_dur</span></code>(postgap_dur)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_pregap_dur</span></code>(pregap_dur)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.StaticGratingCircle.generate_frames">
<code class="descname">generate_frames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.StaticGratingCircle.generate_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>place holder of function “generate_frames” for each specific stimulus</p>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.StaticGratingCircle.generate_movie">
<code class="descname">generate_movie</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.StaticGratingCircle.generate_movie" title="Permalink to this definition">¶</a></dt>
<dd><p>place holder of function ‘generate_movie’ for each specific stimulus</p>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.StaticGratingCircle.generate_movie_by_index">
<code class="descname">generate_movie_by_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.StaticGratingCircle.generate_movie_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>compute the stimulus movie to be displayed by index.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="staticimages">
<h2>StaticImages<a class="headerlink" href="#staticimages" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="retinotopic_mapping.StimulusRoutines.StaticImages">
<em class="property">class </em><code class="descclassname">retinotopic_mapping.StimulusRoutines.</code><code class="descname">StaticImages</code><span class="sig-paren">(</span><em>monitor</em>, <em>indicator</em>, <em>background=0.0</em>, <em>coordinate='degree'</em>, <em>img_center=(0.0</em>, <em>60.0)</em>, <em>deg_per_pixel=(0.1</em>, <em>0.1)</em>, <em>display_dur=0.25</em>, <em>midgap_dur=0.0</em>, <em>iteration=1</em>, <em>pregap_dur=2.0</em>, <em>postgap_dur=3.0</em>, <em>is_blank_block=True</em><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.StaticImages" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate static images stimulus</p>
<p>Stimulus routine presents a sequence of static images in a random order.
Currently the input image stack should be a tif file. The size of the
image should be exactly same as the pixel dimension of downsized monitor
pixel resolution. For example if self.monitor.resolution = (1200,1920)
and self.monitor.downsample_rate = 10. The shape of input image stack
should be n x 120 x 192. Value of the input image stack should be within
the range of [-1., 1.]. The values out of this range will be handled
by psychopy.visual.ImageStim() function. The reason of this seemingly
stringent requirement is that, for visual physiological experiments,
the parameters of visual stimuli should be very well controlled. Any
imaging cropping, zooming, transformating etc. will affect luminance,
contrast, spatial resolution etc. and produce unexpected effects.</p>
<p>This stimulus routing provides a method to generate such image stacks.
StaticImages.wrap_images() takes a list of image files transform them
into a desired spherically corrected and luminance normalized image
stack into visual degree coordinates and save it as a tif file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>monitor</strong> : monitor object</p>
<blockquote>
<div><p>contains display monitor information</p>
</div></blockquote>
<p><strong>indicator</strong> : indicator object</p>
<blockquote>
<div><p>contains indicator information</p>
</div></blockquote>
<p><strong>coordinate</strong> : str from {‘degree’,’linear’}, optional</p>
<blockquote>
<div><p>specifies coordinates, defaults to ‘degree’</p>
</div></blockquote>
<p><strong>background</strong> : float, optional</p>
<blockquote>
<div><p>color of background. Takes values in [-1,1] where -1 is black and 1
is white</p>
</div></blockquote>
<p><strong>pregap_dur</strong> : float, optional</p>
<blockquote>
<div><p>amount of time (in seconds) before the stimulus is presented, defaults
to <cite>2.</cite></p>
</div></blockquote>
<p><strong>postgap_dur</strong> : float, optional</p>
<blockquote>
<div><p>amount of time (in seconds) after the stimulus is presented, defaults
to <cite>3.</cite></p>
</div></blockquote>
<p><strong>img_center</strong> : 2-tuple of floats, optional</p>
<blockquote>
<div><p>coordintes for center of the images (altitude, azimuth)</p>
</div></blockquote>
<p><strong>deg_per_pixel: float, or list/tuple of two floats</strong></p>
<blockquote>
<div><p>pixel size in visual degrees of unwrapped image (altitude, azimuth),
if float, assume sizes in altitude and azimuth are the same</p>
</div></blockquote>
<p><strong>display_dur</strong> : float, optional</p>
<blockquote>
<div><p>duration of each condition in seconds, defaults to <cite>0.25</cite></p>
</div></blockquote>
<p><strong>midgap_dur</strong> : float, optional</p>
<blockquote>
<div><p>duration of gap between conditions, defaults to <cite>0.</cite></p>
</div></blockquote>
<p><strong>iteration</strong> : int, optional</p>
<blockquote>
<div><p>number of times the stimulus is displayed, defaults to <cite>1</cite></p>
</div></blockquote>
<p><strong>is_blank_block</strong> : bool, optional</p>
<blockquote class="last">
<div><p>if True, a full screen background will be displayed as an additional image.
index of this image will be -1.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">display_frame_num</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">midgap_frame_num</span></code></td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">postgap_frame_num</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">pregap_frame_num</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.StaticImages.generate_frames" title="retinotopic_mapping.StimulusRoutines.StaticImages.generate_frames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_frames</span></code></a>()</td>
<td>place holder of function “generate_frames” for each specific stimulus</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.StaticImages.generate_movie" title="retinotopic_mapping.StimulusRoutines.StaticImages.generate_movie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie</span></code></a>()</td>
<td>place holder of function ‘generate_movie’ for each specific stimulus</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.StaticImages.generate_movie_by_index" title="retinotopic_mapping.StimulusRoutines.StaticImages.generate_movie_by_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie_by_index</span></code></a>()</td>
<td>compute the stimulus movie to be displayed by index.</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_background</span></code>(background)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_coordinate</span></code>(coordinate)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.StaticImages.set_imgs_from_hdf5" title="retinotopic_mapping.StimulusRoutines.StaticImages.set_imgs_from_hdf5"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_imgs_from_hdf5</span></code></a>(imgs_file_path)</td>
<td>set 3d arrays from a hdf5 file for display.</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_imgs_from_tif</span></code>(imgs_path_wrapped[,&nbsp;…])</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_indicator</span></code>(indicator)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_monitor</span></code>(monitor)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_postgap_dur</span></code>(postgap_dur)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_pregap_dur</span></code>(pregap_dur)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.StaticImages.wrap_images" title="retinotopic_mapping.StimulusRoutines.StaticImages.wrap_images"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wrap_images</span></code></a>(work_dir)</td>
<td>look for the ‘images_original.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.StaticImages.generate_frames">
<code class="descname">generate_frames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.StaticImages.generate_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>place holder of function “generate_frames” for each specific stimulus</p>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.StaticImages.generate_movie">
<code class="descname">generate_movie</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.StaticImages.generate_movie" title="Permalink to this definition">¶</a></dt>
<dd><p>place holder of function ‘generate_movie’ for each specific stimulus</p>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.StaticImages.generate_movie_by_index">
<code class="descname">generate_movie_by_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.StaticImages.generate_movie_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>compute the stimulus movie to be displayed by index.</p>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.StaticImages.set_imgs_from_hdf5">
<code class="descname">set_imgs_from_hdf5</code><span class="sig-paren">(</span><em>imgs_file_path</em><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.StaticImages.set_imgs_from_hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>set 3d arrays from a hdf5 file for display. Ideally the hdf5 file should be
the result from self.wrap_images() method. Only designed to work with wrapped
images</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>imgs_file_path</strong> : str</p>
<blockquote class="last">
<div><p>system path ot the hdf5 file. It should have at least one dataset named
‘images_wrapped’ containing a 3d array of wrapped images to display</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.StaticImages.wrap_images">
<code class="descname">wrap_images</code><span class="sig-paren">(</span><em>work_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.StaticImages.wrap_images" title="Permalink to this definition">¶</a></dt>
<dd><p>look for the ‘images_original.tif’ in the work_dir, load the images,
warp and luminance correct images, save wrapping results in an HDF5 file
with name “wrapped_images_for_display.hdf5” in the work_dir</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="stimulusseparator">
<h2>StimulusSeparator<a class="headerlink" href="#stimulusseparator" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="retinotopic_mapping.StimulusRoutines.StimulusSeparator">
<em class="property">class </em><code class="descclassname">retinotopic_mapping.StimulusRoutines.</code><code class="descname">StimulusSeparator</code><span class="sig-paren">(</span><em>monitor</em>, <em>indicator</em>, <em>coordinate='degree'</em>, <em>background=0.0</em>, <em>indicator_on_frame_num=4</em>, <em>indicator_off_frame_num=4</em>, <em>cycle_num=10</em>, <em>pregap_dur=0.0</em>, <em>postgap_dur=0.0</em><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.StimulusSeparator" title="Permalink to this definition">¶</a></dt>
<dd><p>a quick flash of indicator to separate different
visual stimuli when displayed in the same session</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>monitor</strong> : monitor object</p>
<blockquote>
<div><p>contains display monitor information</p>
</div></blockquote>
<p><strong>indicator</strong> : indicator object</p>
<blockquote>
<div><p>contains indicator information</p>
</div></blockquote>
<p><strong>coordinate</strong> : str from {‘degree’,’linear’}, optional</p>
<blockquote>
<div><p>specifies coordinates, defaults to ‘degree’</p>
</div></blockquote>
<p><strong>background</strong> : float, optional</p>
<blockquote>
<div><p>color of background. Takes values in [-1,1] where -1 is black and 1
is white</p>
</div></blockquote>
<p><strong>pregap_dur</strong> : float, optional</p>
<blockquote>
<div><p>amount of time (in seconds) before the stimulus is presented, defaults
to <cite>2.</cite></p>
</div></blockquote>
<p><strong>postgap_dur</strong> : float, optional</p>
<blockquote>
<div><p>amount of time (in seconds) after the stimulus is presented, defaults
to <cite>3.</cite></p>
</div></blockquote>
<p><strong>indicator_on_frame_num</strong> : int</p>
<blockquote>
<div><p>number of frames the indicator is white, should be positive.</p>
</div></blockquote>
<p><strong>indicator_off_frame_num</strong> : int</p>
<blockquote>
<div><p>number of frames the indicator is black, should be positive.</p>
</div></blockquote>
<p><strong>cycle_num</strong> : int</p>
<blockquote class="last">
<div><p>number of repeat of the indicator flash, should be positive.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">postgap_frame_num</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">pregap_frame_num</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.StimulusSeparator.generate_frames" title="retinotopic_mapping.StimulusRoutines.StimulusSeparator.generate_frames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_frames</span></code></a>()</td>
<td>place holder of function “generate_frames” for each specific stimulus</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.StimulusSeparator.generate_movie" title="retinotopic_mapping.StimulusRoutines.StimulusSeparator.generate_movie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie</span></code></a>()</td>
<td>place holder of function ‘generate_movie’ for each specific stimulus</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.StimulusSeparator.generate_movie_by_index" title="retinotopic_mapping.StimulusRoutines.StimulusSeparator.generate_movie_by_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie_by_index</span></code></a>()</td>
<td>place holder of function generate_movie_by_index() for each specific stimulus</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_background</span></code>(background)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_coordinate</span></code>(coordinate)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_indicator</span></code>(indicator)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_monitor</span></code>(monitor)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_postgap_dur</span></code>(postgap_dur)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_pregap_dur</span></code>(pregap_dur)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.StimulusSeparator.generate_frames">
<code class="descname">generate_frames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.StimulusSeparator.generate_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>place holder of function “generate_frames” for each specific stimulus</p>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.StimulusSeparator.generate_movie">
<code class="descname">generate_movie</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.StimulusSeparator.generate_movie" title="Permalink to this definition">¶</a></dt>
<dd><p>place holder of function ‘generate_movie’ for each specific stimulus</p>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.StimulusSeparator.generate_movie_by_index">
<code class="descname">generate_movie_by_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.StimulusSeparator.generate_movie_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>place holder of function generate_movie_by_index()
for each specific stimulus</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="combinedstimuli">
<h2>CombinedStimuli<a class="headerlink" href="#combinedstimuli" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="retinotopic_mapping.StimulusRoutines.CombinedStimuli">
<em class="property">class </em><code class="descclassname">retinotopic_mapping.StimulusRoutines.</code><code class="descname">CombinedStimuli</code><span class="sig-paren">(</span><em>monitor</em>, <em>indicator</em>, <em>background=0.0</em>, <em>coordinate='degree'</em>, <em>pregap_dur=2.0</em>, <em>postgap_dur=3.0</em><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.CombinedStimuli" title="Permalink to this definition">¶</a></dt>
<dd><p>the stimulus class that can combine different stimuli into one session.</p>
<p>example:
&gt;&gt;&gt; import retinotopic_mapping.StimulusRoutines as stim
&gt;&gt;&gt; from retinotopic_mapping.MonitorSetup import Monitor, Indicator
&gt;&gt;&gt; from retinotopic_mapping.DisplayStimulus import DisplaySequence
&gt;&gt;&gt; mon = Monitor(resolution=(1200, 1920), dis=15., mon_width_cm=52., mon_height_cm=32.)
&gt;&gt;&gt; ind = Indicator(mon)
&gt;&gt;&gt; uc = stim.UniformContrast(mon, ind, duration=10., color=-1.)
&gt;&gt;&gt; ss = stim.StimulusSeparator(mon, ind)
&gt;&gt;&gt; cs = stim.CombinedStimuli(mon, ind)
&gt;&gt;&gt; cs.set_stimuli([ss, uc, ss])
&gt;&gt;&gt; ds = DisplaySequence(log_dir=’C:/data’)
&gt;&gt;&gt; ds.set_stim(cs)
&gt;&gt;&gt; ds.trigger_display()</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>monitor</strong> : monitor object</p>
<blockquote>
<div><p>contains display monitor information</p>
</div></blockquote>
<p><strong>indicator</strong> : indicator object</p>
<blockquote>
<div><p>contains indicator information</p>
</div></blockquote>
<p><strong>coordinate</strong> : str from {‘degree’,’linear’}, optional</p>
<blockquote>
<div><p>specifies coordinates, defaults to ‘degree’</p>
</div></blockquote>
<p><strong>background</strong> : float, optional</p>
<blockquote>
<div><p>color of background. Takes values in [-1,1] where -1 is black and 1
is white</p>
</div></blockquote>
<p><strong>pregap_dur</strong> : float, optional</p>
<blockquote>
<div><p>amount of time (in seconds) before the stimulus is presented, defaults
to <cite>2.</cite></p>
</div></blockquote>
<p><strong>postgap_dur</strong> : float, optional</p>
<blockquote class="last">
<div><p>amount of time (in seconds) after the stimulus is presented, defaults
to <cite>3.</cite></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">postgap_frame_num</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">pregap_frame_num</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_frames</span></code>()</td>
<td>place holder of function “generate_frames” for each specific stimulus</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie</span></code>()</td>
<td>place holder of function ‘generate_movie’ for each specific stimulus</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.CombinedStimuli.generate_movie_by_index" title="retinotopic_mapping.StimulusRoutines.CombinedStimuli.generate_movie_by_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie_by_index</span></code></a>()</td>
<td>place holder of function generate_movie_by_index() for each specific stimulus</td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_background</span></code>(background)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_coordinate</span></code>(coordinate)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_indicator</span></code>(indicator)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_monitor</span></code>(monitor)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_postgap_dur</span></code>(postgap_dur)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_pregap_dur</span></code>(pregap_dur)</td>
<td></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.CombinedStimuli.set_stimuli" title="retinotopic_mapping.StimulusRoutines.CombinedStimuli.set_stimuli"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_stimuli</span></code></a>(stimuli[,&nbsp;static_images_path])</td>
<td><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.CombinedStimuli.generate_movie_by_index">
<code class="descname">generate_movie_by_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.CombinedStimuli.generate_movie_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>place holder of function generate_movie_by_index()
for each specific stimulus</p>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.CombinedStimuli.set_stimuli">
<code class="descname">set_stimuli</code><span class="sig-paren">(</span><em>stimuli</em>, <em>static_images_path=None</em><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.CombinedStimuli.set_stimuli" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>stimuli</strong> : list of above stimulus object</p>
<p><strong>static_images_path</strong> : str</p>
<blockquote class="last">
<div><p>system path to the hdf5 file storing the wrapped images for display. If there
is StaticImages stimulus in the stimuli list, it will try to load images and
display</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="ksstim">
<h2>KSstim<a class="headerlink" href="#ksstim" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="retinotopic_mapping.StimulusRoutines.KSstim">
<em class="property">class </em><code class="descclassname">retinotopic_mapping.StimulusRoutines.</code><code class="descname">KSstim</code><span class="sig-paren">(</span><em>monitor</em>, <em>indicator</em>, <em>background=0.0</em>, <em>coordinate='degree'</em>, <em>square_size=25.0</em>, <em>square_center=(0</em>, <em>0)</em>, <em>flicker_frame=10</em>, <em>sweep_width=20.0</em>, <em>step_width=0.15</em>, <em>direction='B2U'</em>, <em>sweep_frame=1</em>, <em>iteration=1</em>, <em>pregap_dur=2.0</em>, <em>postgap_dur=3.0</em><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.KSstim" title="Permalink to this definition">¶</a></dt>
<dd><p>generate Kalatsky &amp; Stryker stimulus</p>
<p>Kalatsky &amp; Stryker (KS) stimulus routine presents checkerboard gratings
that drift against a fixed <cite>background</cite> color.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>monitor</strong> : monitor object</p>
<blockquote>
<div><p>object storing experimental monitor setup information</p>
</div></blockquote>
<p><strong>indicator</strong> : indicator object</p>
<blockquote>
<div><p>object storing photodiode indicator information</p>
</div></blockquote>
<p><strong>background</strong> : float, optional</p>
<blockquote>
<div><p>background color of stimulus, takes values in [-1,1]. defaults to
<cite>0.</cite></p>
</div></blockquote>
<p><strong>coordinate</strong> : str, optional</p>
<blockquote>
<div><p>coordinate representation, either ‘degree’ or ‘linear’, defaults
to ‘degree’</p>
</div></blockquote>
<p><strong>square_size</strong> : float, optional</p>
<blockquote>
<div><p>size of flickering square, defaults to <cite>25.</cite></p>
</div></blockquote>
<p><strong>square_center: tuple, optional</strong></p>
<blockquote>
<div><p>coordinate of center point, defaults to <cite>(0,0)</cite></p>
</div></blockquote>
<p><strong>flicker_frame</strong> : int, optional</p>
<blockquote>
<div><p>number of frames in one flicker, defaults to <cite>10</cite></p>
</div></blockquote>
<p><strong>sweep_width</strong> : float, optional</p>
<blockquote>
<div><p>width of sweeps measured in units cm or degs if coordinate value
is ‘linear’ or ‘degree’ respectively. defaults to <cite>20</cite></p>
</div></blockquote>
<p><strong>step_width</strong> : float, optional</p>
<blockquote>
<div><p>width of steps measured in units cm or degs if coordinate value
is ‘linear’ or ‘degree’ respectively. defaults to <cite>0.15</cite></p>
</div></blockquote>
<p><strong>direction</strong> : {‘B2U’,’U2B’,’L2R’,’R2L’}, optional</p>
<blockquote>
<div><p>the direction of sweep movement, defaults to ‘B2U’. ‘B2U’ means
stim is presented from the bottom to the top of the screen, whereas
‘U2B’ is from the top to the bottom. ‘L2R’ is left to right and ‘R2L’
is right to left</p>
</div></blockquote>
<p><strong>sweep_frame</strong> : int, optional</p>
<blockquote>
<div><p>roughly determines speed of the drifting grating, defaults to <cite>1</cite></p>
</div></blockquote>
<p><strong>iteration</strong> : int, optional</p>
<blockquote>
<div><p>number of times that the stimulus will be repeated, defaults to <cite>1</cite></p>
</div></blockquote>
<p><strong>pregap_dur</strong> : float, optional</p>
<blockquote>
<div><p>number of seconds before stimulus is presented, defaults to <cite>2</cite></p>
</div></blockquote>
<p><strong>postgap_dur</strong> : float, optional</p>
<blockquote class="last">
<div><p>number of seconds after stimulus is presented, defaults to <cite>2</cite></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Attributes</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">postgap_frame_num</span></code></td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">pregap_frame_num</span></code></td>
<td></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code>()</td>
<td></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.KSstim.generate_frames" title="retinotopic_mapping.StimulusRoutines.KSstim.generate_frames"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_frames</span></code></a>()</td>
<td>function to generate all the frames needed for KS stimulation returnins a list of information of all frames as a list of tuples</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.KSstim.generate_movie" title="retinotopic_mapping.StimulusRoutines.KSstim.generate_movie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie</span></code></a>()</td>
<td>Function to Generate Kalatsky &amp; Stryker visual stimulus frame by frame</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.KSstim.generate_movie_by_index" title="retinotopic_mapping.StimulusRoutines.KSstim.generate_movie_by_index"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie_by_index</span></code></a>()</td>
<td>place holder of function generate_movie_by_index() for each specific stimulus</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.KSstim.generate_squares" title="retinotopic_mapping.StimulusRoutines.KSstim.generate_squares"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_squares</span></code></a>()</td>
<td>generate checker board squares</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.KSstim.generate_sweeps" title="retinotopic_mapping.StimulusRoutines.KSstim.generate_sweeps"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_sweeps</span></code></a>()</td>
<td>generate full screen sweep sequence</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.KSstim.plot_squares" title="retinotopic_mapping.StimulusRoutines.KSstim.plot_squares"><code class="xref py py-obj docutils literal notranslate"><span class="pre">plot_squares</span></code></a>()</td>
<td>plot checkerboard squares</td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_background</span></code>(background)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_coordinate</span></code>(coordinate)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_direction</span></code>(direction)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_indicator</span></code>(indicator)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_monitor</span></code>(monitor)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_postgap_dur</span></code>(postgap_dur)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_pregap_dur</span></code>(pregap_dur)</td>
<td></td>
</tr>
<tr class="row-odd"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_sweep_sigma</span></code>(sweepSigma)</td>
<td></td>
</tr>
<tr class="row-even"><td><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_sweep_width</span></code>(sweep_width)</td>
<td></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.KSstim.generate_frames">
<code class="descname">generate_frames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.KSstim.generate_frames" title="Permalink to this definition">¶</a></dt>
<dd><p>function to generate all the frames needed for KS stimulation
returnins a list of information of all frames as a list of tuples</p>
<dl class="docutils">
<dt>Information contained in each frame:</dt>
<dd><blockquote class="first">
<div><dl class="docutils">
<dt>first element -</dt>
<dd>during stimulus value is equal to 1 and 0 otherwise</dd>
<dt>second element -</dt>
<dd>square polarity, 1-&gt;not reversed; -1-&gt;reversed</dd>
<dt>third element:</dt>
<dd>sweeps, index in sweep table</dd>
<dt>forth element -</dt>
<dd><dl class="first last docutils">
<dt>color of indicator</dt>
<dd>synchronized: gap-&gt;-1, sweep on -&gt; 1
non-synchronized: alternating between -1 and 1 at defined frequency</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p class="last">for gap frames the second and third elements should be ‘None’</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.KSstim.generate_movie">
<code class="descname">generate_movie</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.KSstim.generate_movie" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to Generate Kalatsky &amp; Stryker visual stimulus frame by frame</p>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.KSstim.generate_movie_by_index">
<code class="descname">generate_movie_by_index</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.KSstim.generate_movie_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>place holder of function generate_movie_by_index()
for each specific stimulus</p>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.KSstim.generate_squares">
<code class="descname">generate_squares</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.KSstim.generate_squares" title="Permalink to this definition">¶</a></dt>
<dd><p>generate checker board squares</p>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.KSstim.generate_sweeps">
<code class="descname">generate_sweeps</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.KSstim.generate_sweeps" title="Permalink to this definition">¶</a></dt>
<dd><p>generate full screen sweep sequence</p>
</dd></dl>

<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.KSstim.plot_squares">
<code class="descname">plot_squares</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.KSstim.plot_squares" title="Permalink to this definition">¶</a></dt>
<dd><p>plot checkerboard squares</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="ksstimalldir">
<h2>KSstimAllDir<a class="headerlink" href="#ksstimalldir" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="retinotopic_mapping.StimulusRoutines.KSstimAllDir">
<em class="property">class </em><code class="descclassname">retinotopic_mapping.StimulusRoutines.</code><code class="descname">KSstimAllDir</code><span class="sig-paren">(</span><em>monitor</em>, <em>indicator</em>, <em>coordinate='degree'</em>, <em>background=0.0</em>, <em>square_size=25</em>, <em>square_center=(0</em>, <em>0)</em>, <em>flicker_frame=6</em>, <em>sweep_width=20.0</em>, <em>step_width=0.15</em>, <em>sweep_frame=1</em>, <em>iteration=1</em>, <em>pregap_dur=2.0</em>, <em>postgap_dur=3.0</em><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.KSstimAllDir" title="Permalink to this definition">¶</a></dt>
<dd><p>generate Kalatsky &amp; Stryker stimulation in all four direction contiuously</p>
<p>Generalizes the KS stimulus routine so that the drifting gratings can go
in all four directions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>monitor</strong> : monitor object</p>
<blockquote>
<div><p>contains display monitor information</p>
</div></blockquote>
<p><strong>indicator</strong> : indicator object</p>
<blockquote>
<div><p>contains indicator information</p>
</div></blockquote>
<p><strong>coordinate</strong> : str from {‘degree’,’linear’}, optional</p>
<blockquote>
<div><p>specifies coordinates, defaults to ‘degree’</p>
</div></blockquote>
<p><strong>background</strong> : float, optional</p>
<blockquote>
<div><p>color of background. Takes values in [-1,1] where -1 is black and 1
is white</p>
</div></blockquote>
<p><strong>square_size</strong> : int, optional</p>
<blockquote>
<div><p>size of flickering square, defaults to 25.</p>
</div></blockquote>
<p><strong>square_center</strong> : tuple, optional</p>
<blockquote>
<div><p>coordinate of center point of the square, defaults to (0,0)</p>
</div></blockquote>
<p><strong>flicker_frame</strong> : int, optional</p>
<blockquote>
<div><p>number of frames per flicker while stimulus is being presented,
defaults to <cite>6</cite></p>
</div></blockquote>
<p><strong>sweep_width</strong> : float, optional</p>
<blockquote>
<div><p>width of sweeps. defaults to <cite>20.</cite></p>
</div></blockquote>
<p><strong>step_width</strong> : float, optional</p>
<blockquote>
<div><p>width of steps. defaults to <cite>0.15</cite>.</p>
</div></blockquote>
<p><strong>sweep_frame</strong> : int, optional</p>
<blockquote>
<div><p>roughly determines speed of the drifting grating, defaults to <cite>1</cite></p>
</div></blockquote>
<p><strong>iteration</strong> : int, optional</p>
<blockquote>
<div><p>number of times stimulus will be presented, defaults to <cite>1</cite></p>
</div></blockquote>
<p><strong>pregap_dur</strong> : float, optional</p>
<blockquote>
<div><p>number of seconds before stimulus is presented, defaults to <cite>2.</cite></p>
</div></blockquote>
<p><strong>postgap_dur</strong> : float, optional</p>
<blockquote class="last">
<div><p>number of seconds after stimulus is presented, defaults to <cite>3.</cite></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#retinotopic_mapping.StimulusRoutines.KSstimAllDir.generate_movie" title="retinotopic_mapping.StimulusRoutines.KSstimAllDir.generate_movie"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_movie</span></code></a>()</td>
<td>Generate stimulus movie frame by frame</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="retinotopic_mapping.StimulusRoutines.KSstimAllDir.generate_movie">
<code class="descname">generate_movie</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#retinotopic_mapping.StimulusRoutines.KSstimAllDir.generate_movie" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate stimulus movie frame by frame</p>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Allen Institute for Brain Science.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>